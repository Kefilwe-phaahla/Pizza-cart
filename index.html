<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="//unpkg.com/alpinejs" defer></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="style.css">

</head>

<body>

    <body>
    <div class="heading"> 
<h1 style="text-align:center ;background-color: white; color: black;font-size: larger;font-family: Georgia, 'Times New Roman', Times, serif;"> Pefect pizza</h1>
</div>
<div class="container" x-data="{showCart: false, SmallPizzaTot: 0.00, SpizzaQty:0, MediumPizzaTot: 0.00, 
    mpizzaQty:0, LargePizzaTot: 0.00, lpizzaQty:0, LargePizzasTot: 0.00, lspizzaQty:0,
    payNow: false,
    paymentAmount: 0,
    paymentMessege: '',
    buyspizza(){
        this.SmallPizzaTot += 49.00 ;
        this.SpizzaQty +=1
    },
    cancelspizza(){
        if(this.SpizzaQty>0){
            this.SmallPizzaTot -= 49.00 ;
            this.SpizzaQty -=1
        }
    },
    buympizza(){
        this.MediumPizzaTot += 89.00 ;
        this.mpizzaQty +=1
    },
    cancelmpizza(){
        if(this.mpizzaQty>0){
            this.MediumPizzaTot -= 89.00 ;
            this.mpizzaQty -=1
        }
    },
    buylpizza(){
        this.LargePizzaTot += 89.00 ;
        this.lpizzaQty +=1
    },
    cancellpizza(){
        if(this.lpizzaQty>0){
            this.LargePizzaTot -= 89.00 ;
            this.lpizzaQty -=1
        }
    },
    buylspizza(){
        this.LargePizzasTot += 169.00 ;
        this.lspizzaQty +=1
    },
    cancellspizza(){
        if(this.lspizzaQty>0){
            this.LargePizzasTot -= 169.00 ;
            this.lspizzaQty -=1
        }
    },
    cartTot(){
        return this.SmallPizzaTot + this.MediumPizzaTot + this.LargePizzaTot + this.LargePizzasTot
    },
    totalQty(){
        return this.SpizzaQty + this.mpizzaQty + this.lpizzaQty + this.lspizzaQty
    },
    makepayment(){
        if(!this.paymentAmount){
            this.paymentMessege = 'No amount entered!'
        }
        else if(this.paymentAmount >= this.cartTot()){
            this.paymentMessege = 'payment successfully'
            setTimeout(() => {
                this.payNow=false;
                this.showCart=false;
                this.clearCart() 
            }, 5000);
        }else{
            this.paymentMessege = 'Sorry - that is not enough money!'
            setTimeout(() => {
                this.payNow=false;
                this.showCart=false;
                this.clearCart() 
            }, 5000);
        }
    },
    clearCart(){
        this.SmallPizzaTot= 0.00;
        this.SpizzaQty=0; 
        this.MediumPizzaTot= 0.00; 
        this.mpizzaQty=0; 
        this.LargePizzaTot= 0.00; 
        this.lpizzaQty=0; 
        this.LargePizzasTot= 0.00; 
        this.lspizzaQty=0;
    }
}">

    <div class="header">
        <div class="main">
            
                <button class="btnopen" x-on:click="showCart=true">
                    <img src="cart.png" width="30" alt="">View Cart </button>
                <strong x-show="totalQty()>0">
                    <div><span x-text="totalQty()"></span> Items in the Cart</div>
                    <div>Total price: R<span x-text="cartTot().toFixed(2)"></span></div>
                    </strong>
            
        </div>
    </div>

    <div class="cart-box">
        <div class="cart" x-show="showCart">
            <button class="btn2" x-on:click="showCart=false">
                <img src="cart.png" width="30" alt="">Close Cart </button>
        
            <div>
                <table>
                    <tr> <td colspan="3">
                        <div class="aa">
                            <h2>Cart</h2> <img src="cart.png" width="30" alt="">
                        </div>
                        </td></tr>
                    <tr x-show="SpizzaQty>0">
                        <td>
                            Small Pizza
                        </td>
                        <td>
                            <span x-text="SpizzaQty"></span>
                            <button x-show="SpizzaQty>0" x-on:click="buyspizza" class="btn6">+</button>
                            <button x-show="SpizzaQty>0" x-on:click="cancelspizza" class="btn7">-</button>
                        </td>
                        <td>
                            R<span x-text="SmallPizzaTot.toFixed(2)"></span>
                        </td>
                    </tr>
                    <tr x-show="mpizzaQty>0">
                        <td>
                            Medium Pizza
                        </td>
                        <td>
                            <span x-text="mpizzaQty"></span>
                            <button x-show="mpizzaQty>0" x-on:click="buympizza" class="btn6">+</button>
                            <button x-show="mpizzaQty>0" x-on:click="cancelmpizza" class="btn7">-</button>
                        </td>
                        <td>
                            R<span x-text="MediumPizzaTot.toFixed(2)"></span>
                        </td>
                    </tr>
                    <tr x-show="lpizzaQty>0">
                        <td>
                            Large Pizza
                        </td>
                        <td>
                            <span x-text="lpizzaQty"></span>
                            <button x-show="lpizzaQty>0" x-on:click="buylpizza" class="btn6">+</button>
                            <button x-show="lpizzaQty>0" x-on:click="cancellpizza" class="btn7">-</button>
                        </td>
                        <td>
                            R<span x-text="LargePizzaTot.toFixed(2)"></span>
                        </td>
                    </tr>
                
                    <tr>
                        <td colspan="2">Total</td>
                        <td>
                            R<span x-text="cartTot().toFixed(2)"></span>
                        </td>
                    </tr>
                    <tr x-show="totalQty()>0">
                        <td colspan="2">
                            <div x-show="payNow">
                                <div class="messege" x-text="paymentMessege">Message....</div>
                                <div class="b1">
                                    <div>
                                        <label for="">Pay Amount</label>
                                        <input class="input" type="number" placeholder="Pay Amount" x-model="paymentAmount">
                                    </div>
                                    <div>
                                        <button  x-on:click="makepayment" class="btn">
                                            <img src="cart.png" width="20" alt="">PayNow</button>
                                    </div>

                                </div>
                            </div>
                            
                            <td>
                                <button x-show="!payNow"x-on:click="payNow=true" class="btn5">
                                    <img src="cart.png" width="20" alt="">Check out
                                </button>
                            </td>
                        </td>
                    </tr>
                </table>

            </div>
        </div>
        
    </div>
</body>
        <div class="pizzas">
            <div class="small">
                
                <img src="small.png" width="280" height="280" alt="">
                <h2>Small Pizza</h2>
                R49.00
                <button class="btn" x-on:click="buyspizza">BUY</button>
                <div>small package pizza wellboxed and with different flavour and sauces for you</div>
            </div>
            <div class="Medium">
                <img src="medium.png" width="280" height="280" alt="">
                <h2>Medium Pizza</h2>
                R89.00
                <button class="btn" x-on:click="MediumPizzaTot += 89.00 ; mpizzaQty +=1">
                    BUY</button>
                <div>Medium enough pizza from perfect pizza, choose sauces and package that fits you by perfect pizza shop</div>
            </div>
            <div class="Large">
                <img src="large.png" width="280" height="280" alt="">
                <h2>Large Pizza</h2>
                R169.99
                <button class="btn" x-on:click="LargePizzaTot += 169.00 ; lpizzaQty +=1">BUY</button>
                <div>Large pizza that is with all choices of sauces,type,and tastes that is tasteful and eatable for so many people,fresh</div>
            </div>
        </div>
<div class="contact">
        <h2 style=" color: black;">Contact Us : 0711219033 info@pefectpizza.co.za </h2>
        </div>
</body>

</html>